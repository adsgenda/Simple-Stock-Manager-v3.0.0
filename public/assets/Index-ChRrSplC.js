import{i as M,d as k,T as P,c as $,w as m,u as e,o as p,a as o,b as t,g as d,t as u,v as y,J as U,X as E,l as I,e as g,F as V,f as S}from"./app-DvcEWBb-.js";import{_ as N}from"./Button-C8m032_K.js";import{C as T}from"./CheckBox-adA4q6aQ.js";import{_ as A}from"./Label-Vj9Pqrhi.js";import{_ as i}from"./TextInput-ujQ4NiUK.js";import{_ as F}from"./AppLayout-BuCQ6WFQ.js";import{_ as C}from"./InputError-CKMLs-tu.js";import{_ as x}from"./FormSection-DocVJqkC.js";import{_ as f}from"./AutoCompleteApi-XbWhlOLz.js";import{_ as q}from"./ActionMessage-C18-PcVb.js";import{_ as B}from"./SecondaryButton-DsJqz4h9.js";import"./LoadingButton-BDuquHI2.js";import"./Checkbox-BmieN_Lu.js";import"./v4-CQkTLCs1.js";import"./Input-CR1qtmG5.js";import"./Modal-B8qV30f2.js";import"./SectionTitle-Dxuf_BKR.js";const R={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},H={class:"col-span-full"},W={class:"my-2 rounded-md bg-white p-2"},j=["src","alt"],z={class:"my-2 rounded-md bg-white p-2"},G={class:"col-span-6 sm:col-span-3"},J={class:"col-span-6 sm:col-span-3"},K={class:"col-span-6 sm:col-span-3"},Q={class:"col-span-6 sm:col-span-3"},X={class:"col-span-6 sm:col-span-3"},Y={class:"col-span-6 sm:col-span-3"},O={class:"col-span-6"},Z={class:"col-span-6 sm:col-span-3"},ee={class:"col-span-6 sm:col-span-3"},le={class:"col-span-full"},se={class:"col-span-6 sm:col-span-3"},re={class:"col-span-6 sm:col-span-3"},oe={class:"col-span-6 sm:col-span-3"},ae={class:"col-span-6 sm:col-span-3"},te={class:"col-span-6 sm:col-span-3"},ne={class:"col-span-6 sm:col-span-3"},ie={class:"col-span-6 sm:col-span-3"},me={class:"col-span-6 sm:col-span-3"},ue={class:"col-span-6 sm:col-span-3"},de={class:"col-span-6 sm:col-span-3"},_e={class:"col-span-6 sm:col-span-3"},pe={class:"col-span-6 sm:col-span-3"},ce={class:"col-span-6 sm:col-span-3"},ge={class:"col-span-6 sm:col-span-3"},fe={class:"col-span-6 sm:col-span-3"},ve={class:"col-span-6 sm:col-span-3"},be={class:"col-span-6 sm:col-span-3"},Ve={class:"col-span-6 sm:col-span-3"},ke={class:"col-span-full mb-4"},ye={key:0,class:"mt-8"},Ue={class:"col-span-full -m-6 rounded-md overflow-hidden"},Se={class:"bg-white dark:bg-gray-900 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},xe={class:"font-medium text-gray-500 dark:text-gray-400"},we={class:"mt-1 sm:mt-0 sm:col-span-2"},he={class:"bg-gray-50 dark:bg-black/20 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},De={class:"font-medium text-gray-500 dark:text-gray-400"},Le={class:"mt-1 sm:mt-0 sm:col-span-2"},Me={class:"bg-white dark:bg-gray-900 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Pe={class:"font-medium text-gray-500 dark:text-gray-400"},$e={class:"mt-1 sm:mt-0 sm:col-span-2"},Qe={__name:"Index",props:["current","languages"],setup(w){const n=w,{t:a}=M({}),c=k(null),v=k(null),l=P({name:n.current.name,hour12:n.current.hour12||"1",per_page:0+n.current.per_page,language:n.current.language||"en",fraction:0+n.current.fraction||0,reference:n.current.reference||"ulid",over_selling:n.current.over_selling==1,customer_cf1:n.current.customer_cf1||null,customer_cf2:n.current.customer_cf2||null,supplier_cf1:n.current.supplier_cf1||null,supplier_cf2:n.current.supplier_cf2||null,default_locale:n.current.default_locale||"en-US",attachment_exts:n.current.attachment_exts||"jpg,png,pdf,xlsx,docx,zip",logo:n.current.logo||null,mail_from_address:n.current.mail_from_address||"noreply@domain.com",mail_from_name:n.current.mail_from_name||"SSM Desk",mail_default:n.current.mail_default||"smtp",mail_mailers_smtp_host:n.current.mail_mailers_smtp_host||"127.0.0.1",mail_mailers_smtp_port:n.current.mail_mailers_smtp_port||"2525",mail_mailers_smtp_username:n.current.mail_mailers_smtp_username||null,mail_mailers_smtp_password:n.current.mail_mailers_smtp_password||null,mail_mailers_smtp_encryption:n.current.mail_mailers_smtp_encryption||null,services_mailgun_domain:n.current.services_mailgun_domain||null,services_mailgun_secret:n.current.services_mailgun_secret||null,services_mailgun_endpoint:n.current.services_mailgun_endpoint||null,services_sparkpost_secret:n.current.services_sparkpost_secret||null,services_sparkpost_endpoint:n.current.services_sparkpost_endpoint||null,services_ses_key:n.current.services_ses_key||null,services_ses_secret:n.current.services_ses_secret||null,services_ses_region:n.current.services_ses_region||null}),h=()=>{c.value&&(l.logo=c.value.files[0]),l.post(route("settings.store"))},D=()=>{c.value.click()},L=()=>{const _=c.value.files[0];if(!_)return;const s=new FileReader;s.onload=b=>{v.value=b.target.result},s.readAsDataURL(_)};return(_,s)=>(p(),$(F,{title:e(a)("Settings")},{default:m(()=>{var b;return[o("div",R,[t(x,{onSubmitted:h,autocomplete:"off"},{title:m(()=>[d(u(e(a)("Settings")),1)]),description:m(()=>[d(u(e(a)("Please fill the form below to update settings.")),1)]),form:m(()=>[o("div",H,[o("input",{ref_key:"logoInput",ref:c,type:"file",class:"hidden",accept:".png,.jpg,.jpeg,.svg",onChange:L},null,544),t(A,{for:"logo",value:e(a)("Logo")},null,8,["value"]),y(o("div",W,[o("img",{src:e(l).logo,alt:e(l).name,class:"block rounded w-80 h-20 mx-auto bg-contain"},null,8,j)],512),[[U,!v.value&&e(l).logo]]),y(o("div",z,[o("span",{class:"block rounded w-80 h-20 mx-auto bg-contain bg-no-repeat bg-center",style:E("background-image: url('"+v.value+"');")},null,4)],512),[[U,v.value]]),t(B,{class:"mt-2 mr-2",type:"button",onClick:I(D,["prevent"])},{default:m(()=>[d(u(e(a)("Select Logo")),1)]),_:1}),t(C,{message:e(l).errors.logo,class:"mt-2"},null,8,["message"])]),o("div",G,[t(i,{modelValue:e(l).name,"onUpdate:modelValue":s[0]||(s[0]=r=>e(l).name=r),error:e(l).errors.name,label:e(a)("Site Name")},null,8,["modelValue","error","label"])]),o("div",J,[t(f,{id:"language",searchable:!1,modelValue:e(l).language,"onUpdate:modelValue":s[1]||(s[1]=r=>e(l).language=r),label:e(a)("Language"),error:e(l).errors.language,suggestions:n.languages},null,8,["modelValue","label","error","suggestions"])]),o("div",K,[t(f,{id:"reference",searchable:!1,modelValue:e(l).reference,"onUpdate:modelValue":s[2]||(s[2]=r=>e(l).reference=r),label:e(a)("Reference"),error:e(l).errors.reference,suggestions:[{value:"ulid",label:"ULID - Universally Unique Lexicographically Sortable Identifier"},{value:"ai",label:"Auto Increment (MYSQL only)"},{value:"uniqid",label:"Uniqid - PHP Generate a Unique ID"},{value:"uuid",label:"UUID - Universally Unique Identifier"}]},null,8,["modelValue","label","error"])]),o("div",Q,[t(i,{modelValue:e(l).default_locale,"onUpdate:modelValue":s[3]||(s[3]=r=>e(l).default_locale=r),error:e(l).errors.default_locale,label:e(a)("Date & Number Locale")},null,8,["modelValue","error","label"])]),o("div",X,[t(f,{id:"hour12",searchable:!1,modelValue:e(l).hour12,"onUpdate:modelValue":s[4]||(s[4]=r=>e(l).hour12=r),label:e(a)("Time Format"),error:e(l).errors.hour12,suggestions:[{value:"0",label:"24 Hours (23:30)"},{value:"1",label:"12 Hours (11:30 PM)"}]},null,8,["modelValue","label","error"])]),o("div",Y,[t(f,{id:"per_page",searchable:!1,modelValue:e(l).per_page,"onUpdate:modelValue":s[5]||(s[5]=r=>e(l).per_page=r),label:e(a)("Rows per page"),error:e(l).errors.per_page,suggestions:[{value:10,label:10},{value:15,label:15},{value:25,label:25},{value:50,label:50},{value:100,label:100}]},null,8,["modelValue","label","error"])]),o("div",O,[t(i,{modelValue:e(l).attachment_exts,"onUpdate:modelValue":s[6]||(s[6]=r=>e(l).attachment_exts=r),error:e(l).errors.attachment_exts,label:e(a)("Allowed attachments")},null,8,["modelValue","error","label"])]),o("div",Z,[t(i,{modelValue:e(l).mail_from_name,"onUpdate:modelValue":s[7]||(s[7]=r=>e(l).mail_from_name=r),error:e(l).errors.mail_from_name,label:e(a)("From Name")},null,8,["modelValue","error","label"])]),o("div",ee,[t(i,{type:"email",label:e(a)("From Email Address"),modelValue:e(l).mail_from_address,"onUpdate:modelValue":s[8]||(s[8]=r=>e(l).mail_from_address=r),error:e(l).errors.mail_from_address},null,8,["label","modelValue","error"])]),o("div",le,[t(f,{id:"mail_default",searchable:!1,label:e(a)("Mail Driver"),modelValue:e(l).mail_default,"onUpdate:modelValue":s[9]||(s[9]=r=>e(l).mail_default=r),error:e(l).errors.mail_default?e(l).errors.mail_default:null,suggestions:[{value:"smtp",label:"SMTP"},{value:"ses",label:"AWS SES"},{value:"mailgun",label:"Mailgun"},{value:"sparkpost",label:"Sparkpost"}]},null,8,["label","modelValue","error"])]),e(l).mail_default=="smtp"?(p(),g(V,{key:0},[o("div",se,[t(i,{label:e(a)("SMTP Host"),modelValue:e(l).mail_mailers_smtp_host,"onUpdate:modelValue":s[10]||(s[10]=r=>e(l).mail_mailers_smtp_host=r),error:e(l).errors.mail_mailers_smtp_host},null,8,["label","modelValue","error"])]),o("div",re,[t(i,{label:e(a)("SMTP Port"),modelValue:e(l).mail_mailers_smtp_port,"onUpdate:modelValue":s[11]||(s[11]=r=>e(l).mail_mailers_smtp_port=r),error:e(l).errors.mail_mailers_smtp_port},null,8,["label","modelValue","error"])]),o("div",oe,[t(i,{label:e(a)("SMTP Username"),modelValue:e(l).mail_mailers_smtp_username,"onUpdate:modelValue":s[12]||(s[12]=r=>e(l).mail_mailers_smtp_username=r),error:e(l).errors.mail_mailers_smtp_username},null,8,["label","modelValue","error"])]),o("div",ae,[t(i,{label:e(a)("SMTP Password"),modelValue:e(l).mail_mailers_smtp_password,"onUpdate:modelValue":s[13]||(s[13]=r=>e(l).mail_mailers_smtp_password=r),error:e(l).errors.mail_mailers_smtp_password},null,8,["label","modelValue","error"])]),o("div",te,[t(i,{label:e(a)("SMTP Encryption"),modelValue:e(l).mail_mailers_smtp_encryption,"onUpdate:modelValue":s[14]||(s[14]=r=>e(l).mail_mailers_smtp_encryption=r),error:e(l).errors.mail_mailers_smtp_encryption},null,8,["label","modelValue","error"])]),s[29]||(s[29]=o("div",{class:"col-span-6 sm:col-span-3"},null,-1))],64)):e(l).mail_default=="ses"?(p(),g(V,{key:1},[o("div",ne,[t(i,{label:e(a)("AWS SES Key"),modelValue:e(l).services_ses_key,"onUpdate:modelValue":s[15]||(s[15]=r=>e(l).services_ses_key=r),error:e(l).errors.services_ses_key},null,8,["label","modelValue","error"])]),o("div",ie,[t(i,{label:e(a)("AWS SES Secret"),modelValue:e(l).services_ses_secret,"onUpdate:modelValue":s[16]||(s[16]=r=>e(l).services_ses_secret=r),error:e(l).errors.services_ses_secret},null,8,["label","modelValue","error"])]),o("div",me,[t(i,{label:e(a)("AWS SES Region"),modelValue:e(l).services_ses_region,"onUpdate:modelValue":s[17]||(s[17]=r=>e(l).services_ses_region=r),error:e(l).errors.services_ses_region},null,8,["label","modelValue","error"])]),s[30]||(s[30]=o("div",{class:"col-span-6 sm:col-span-3"},null,-1))],64)):e(l).mail_default=="mailgun"?(p(),g(V,{key:2},[o("div",ue,[t(i,{label:e(a)("Mailgun Domain"),modelValue:e(l).services_mailgun_domain,"onUpdate:modelValue":s[18]||(s[18]=r=>e(l).services_mailgun_domain=r),error:e(l).errors.services_mailgun_domain},null,8,["label","modelValue","error"])]),o("div",de,[t(i,{label:e(a)("Mailgun Secret"),modelValue:e(l).services_mailgun_secret,"onUpdate:modelValue":s[19]||(s[19]=r=>e(l).services_mailgun_secret=r),error:e(l).errors.services_mailgun_secret},null,8,["label","modelValue","error"])]),o("div",_e,[t(i,{label:e(a)("Mailgun Endpoint"),modelValue:e(l).services_mailgun_endpoint,"onUpdate:modelValue":s[20]||(s[20]=r=>e(l).services_mailgun_endpoint=r),error:e(l).errors.services_mailgun_endpoint},null,8,["label","modelValue","error"])]),s[31]||(s[31]=o("div",{class:"col-span-6 sm:col-span-3"},null,-1))],64)):e(l).mail_default=="sparkpost"?(p(),g(V,{key:3},[o("div",pe,[t(i,{label:e(a)("Sparkpost Secret"),modelValue:e(l).services_sparkpost_secret,"onUpdate:modelValue":s[21]||(s[21]=r=>e(l).services_sparkpost_secret=r),error:e(l).errors.services_sparkpost_secret},null,8,["label","modelValue","error"])]),o("div",ce,[t(i,{label:e(a)("Sparkpost Endpoint"),modelValue:e(l).services_sparkpost_endpoint,"onUpdate:modelValue":s[22]||(s[22]=r=>e(l).services_sparkpost_endpoint=r),error:e(l).errors.services_sparkpost_endpoint},null,8,["label","modelValue","error"])])],64)):S("",!0),o("div",ge,[t(i,{modelValue:e(l).customer_cf2,"onUpdate:modelValue":s[23]||(s[23]=r=>e(l).customer_cf2=r),error:e(l).errors.customer_cf2,label:e(a)("Label for customer field 2")},null,8,["modelValue","error","label"])]),o("div",fe,[t(i,{modelValue:e(l).customer_cf1,"onUpdate:modelValue":s[24]||(s[24]=r=>e(l).customer_cf1=r),error:e(l).errors.customer_cf1,label:e(a)("Label for customer field 1")},null,8,["modelValue","error","label"])]),o("div",ve,[t(i,{modelValue:e(l).customer_cf2,"onUpdate:modelValue":s[25]||(s[25]=r=>e(l).customer_cf2=r),error:e(l).errors.customer_cf2,label:e(a)("Label for customer field 2")},null,8,["modelValue","error","label"])]),o("div",be,[t(i,{modelValue:e(l).supplier_cf1,"onUpdate:modelValue":s[26]||(s[26]=r=>e(l).supplier_cf1=r),error:e(l).errors.supplier_cf1,label:e(a)("Label for supplier field 1")},null,8,["modelValue","error","label"])]),o("div",Ve,[t(i,{modelValue:e(l).supplier_cf2,"onUpdate:modelValue":s[27]||(s[27]=r=>e(l).supplier_cf2=r),error:e(l).errors.supplier_cf2,label:e(a)("Label for supplier field 2")},null,8,["modelValue","error","label"])]),o("div",ke,[t(T,{id:"over_selling",label:e(a)("Enable over selling"),checked:e(l).over_selling,"onUpdate:checked":s[28]||(s[28]=r=>e(l).over_selling=r),error:e(l).errors.over_selling},null,8,["label","checked","error"])])]),actions:m(()=>[t(q,{on:e(l).recentlySuccessful,class:"mr-3"},{default:m(()=>s[32]||(s[32]=[d(" Saved. ")])),_:1},8,["on"]),t(N,{type:"submit",loading:e(l).processing},{default:m(()=>s[33]||(s[33]=[d(" Save ")])),_:1},8,["loading"])]),_:1}),e(l)&&((b=e(l))!=null&&b.default_locale)?(p(),g("div",ye,[t(x,null,{title:m(()=>[d(u(e(a)("Preview")),1)]),description:m(()=>[d(u(e(a)("Number and Date Format")),1)]),form:m(()=>[o("div",Ue,[o("dl",null,[o("div",Se,[o("dt",xe,u(e(a)("Number")),1),o("dd",we,u(_.$number(200000005e-1,e(l).default_locale,{minimumFractionDigits:e(l).fraction})),1)]),o("div",he,[o("dt",De,u(e(a)("Date")),1),o("dd",Le,u(_.$date(new Date,e(l).default_locale)),1)]),o("div",Me,[o("dt",Pe,u(e(a)("Date Time")),1),o("dd",$e,u(_.$datetime(new Date,e(l).default_locale)),1)])])])]),_:1})])):S("",!0)])]}),_:1},8,["title"]))}};export{Qe as default};
