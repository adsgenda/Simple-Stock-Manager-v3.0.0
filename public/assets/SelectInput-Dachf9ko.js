import{i as M,d as F,p as C,o as n,e as a,F as y,c as $,w as i,a as s,f as c,b as m,t as l,u as d,g as k,n as z,_ as A,v as T,P as j,r as H,R as N}from"./app-DvcEWBb-.js";import{_ as R}from"./Button-CqSGXcNL.js";import{_ as L}from"./DialogModal-CF240EeB.js";import{_ as D}from"./DangerButton-71d8Iw8G.js";import{_ as V}from"./SecondaryButton-DsJqz4h9.js";import{_ as P}from"./Label-Vj9Pqrhi.js";import{_ as I}from"./InputError-CKMLs-tu.js";import{v as E}from"./v4-CQkTLCs1.js";const W={key:0},Y={key:1},q={key:0},O={key:1},U={key:0,class:"mt-2 text-red-500"},ne={__name:"RowActions",props:{pm:String,editFn:String,editStr:String,property:String,deleteFn:Function,restoreFn:Function,row:{type:Object,required:!0},classStr:{type:String,default:""}},setup(e){const{t:o}=M({}),r=F(!1),v=F(!1),u=e,p=()=>{u.deleteFn(u.row.id,!!u.row.deleted_at),w()},g=()=>{u.restoreFn(u.row.id),w()},x=()=>{r.value=!0},f=()=>{v.value=!0},w=()=>{r.value=!1},S=()=>{v.value=!1};return(b,t)=>{const B=C("Link");return n(),a("div",{class:z(["flex items-center justify-end gap-3",e.classStr])},[!e.row.deleted_at&&b.$can("update-"+e.pm)?(n(),a(y,{key:0},[e.editStr?(n(),$(B,{key:0,href:e.editStr,class:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-300"},{default:i(()=>t[5]||(t[5]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])),_:1},8,["href"])):c("",!0),e.editFn?(n(),a("button",{key:1,onClick:t[0]||(t[0]=h=>e.editFn()),class:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-300"},t[6]||(t[6]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)]))):c("",!0)],64)):c("",!0),e.row.deleted_at&&b.$can("update-"+e.pm)&&e.restoreFn?(n(),a(y,{key:1},[s("button",{onClick:t[1]||(t[1]=h=>f()),class:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-300"},t[7]||(t[7]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 14.25h13.5m-13.5 0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3 0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008zm-3 6h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z"})],-1)])),m(L,{show:v.value,onClose:S,maxWidth:"sm"},{title:i(()=>[e.property?(n(),a("span",W,l(d(o)("Restore {x}",{x:e.row[e.property]})),1)):(n(),a("span",Y,l(d(o)("Confirm record restore")),1))]),content:i(()=>[s("p",null,l(d(o)("Please confirm that you would like to restore the record?")),1)]),footer:i(()=>[m(V,{onClick:S},{default:i(()=>[k(l(d(o)("Cancel")),1)]),_:1}),m(R,{onClick:t[2]||(t[2]=h=>g())},{default:i(()=>[k(l(d(o)("Yes, restore")),1)]),_:1})]),_:1},8,["show"])],64)):c("",!0),b.$can("delete-"+e.pm)&&e.deleteFn?(n(),a(y,{key:2},[s("button",{onClick:t[3]||(t[3]=h=>x()),class:"text-red-600 hover:text-red-900 dark:hover:text-red-300"},t[8]||(t[8]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])),m(L,{show:r.value,onClose:w,maxWidth:"sm"},{title:i(()=>[e.property?(n(),a("span",q,l(d(o)("Delete {x}",{x:e.row[e.property]})),1)):(n(),a("span",O,l(d(o)("Confirm record delete")),1))]),content:i(()=>[s("p",null,l(d(o)("Please confirm that you would like to delete the record?")),1),e.row.deleted_at?(n(),a("p",U,l(d(o)("This action will delete the data permanently.")),1)):c("",!0)]),footer:i(()=>[m(V,{onClick:w},{default:i(()=>[k(l(d(o)("Cancel")),1)]),_:1}),m(D,{onClick:t[4]||(t[4]=h=>p())},{default:i(()=>[k(l(d(o)("Yes, delete")),1)]),_:1})]),_:1},8,["show"])],64)):c("",!0)],2)}}},_={emits:["update:modelValue"],components:{TecLabel:P,TecInputError:I},props:{id:{type:String,default(){return E()}},modelValue:[String,Number,Boolean],label:String,error:String,actionText:String,action:Function},data(){return{selected:this.modelValue}},watch:{selected(e){this.$emit("update:modelValue",e)},modelValue(e){this.selected=this.modelValue}},methods:{focus(){this.$refs.input.focus()},select(){this.$refs.input.select()}}},G=["id"];function J(e,o,r,v,u,p){const g=C("tec-label"),x=C("tec-input-error");return n(),a("div",null,[r.actionText&&r.action?(n(),a("button",{key:0,class:"float-right text-blue-500 hover:text-blue-700",type:"button",onClick:o[0]||(o[0]=(...f)=>r.action&&r.action(...f))},l(r.actionText),1)):c("",!0),m(g,{for:r.id,value:r.label},null,8,["for","value"]),T(s("select",N({id:r.id,ref:"input"},e.$attrs,{"onUpdate:modelValue":o[1]||(o[1]=f=>u.selected=f),class:[{"border-red-500":r.error},"w-full mt-1 border-gray-300 dark:border-gray-700 focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-800"]}),[H(e.$slots,"default")],16,G),[[j,u.selected]]),r.error?(n(),$(x,{key:1,message:r.error,class:"mt-2"},null,8,["message"])):c("",!0)])}const se=A(_,[["render",J]]);export{se as S,ne as _};
