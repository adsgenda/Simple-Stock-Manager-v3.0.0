import{i as F,d as M,T as C,j as P,k as j,c as B,w as c,u as t,o as m,a as e,g as _,t as r,b as u,m as p,l as L,e as h,f as y,F as R,h as U,n as O,v as W,x as A,y as $}from"./app-DvcEWBb-.js";import{_ as I}from"./Button-C8m032_K.js";import{_ as q}from"./AppLayout-BuCQ6WFQ.js";import{_ as z,a as E}from"./SearchFilter-SpN_1X05.js";import{S as Y,_ as G}from"./SelectInput-Dachf9ko.js";import{_ as H}from"./DialogModal-CF240EeB.js";import{_ as J}from"./DangerButton-71d8Iw8G.js";import{_ as K}from"./SecondaryButton-DsJqz4h9.js";import"./LoadingButton-BDuquHI2.js";import"./Modal-B8qV30f2.js";import"./Button-CqSGXcNL.js";import"./Label-Vj9Pqrhi.js";import"./InputError-CKMLs-tu.js";import"./v4-CQkTLCs1.js";const Q={class:"py-8"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Z={class:"bg-white dark:bg-gray-900 shadow sm:rounded-lg"},ee={class:"sm:rounded-lg"},te={class:"p-6 sm:rounded-t-lg border-b border-gray-200 dark:border-gray-700 block md:flex md:items-center md:justify-between"},se={class:"text-2xl"},oe={class:"text-base"},ae={class:"mt-1 text-gray-500 dark:text-gray-400"},re={class:"mt-4 sm:mt-0 block sm:flex sm:items-center sm:gap-4"},le={class:"block"},de={value:null},ie={value:"with"},ne={value:"only"},ce={class:"bg-gray-50 dark:bg-black/50 border-b dark:border-gray-700 sm:rounded-b-lg"},me={key:0},ue={class:"flex flex-col"},he={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},pe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},ge={class:"relative overflow-hidden ring-1 ring-black ring-opacity-5"},_e={key:0,class:"absolute top-0 left-12 flex h-12 items-center space-x-3 sm:left-16"},fe={key:0,class:"mt-2 text-red-500"},be={class:"min-w-full table-fixed divide-y divide-gray-300 dark:divide-gray-700"},ye={class:"bg-gray-50 dark:bg-black/50"},xe={scope:"col",class:"relative w-12 px-6 sm:w-16 sm:px-8"},ve=["indeterminate","checked"],we={scope:"col",class:"py-3.5 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"},ke={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"},Ce={scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},$e={class:"sr-only"},Se={class:"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-900"},Te={class:"relative w-12 px-6 sm:w-16 sm:px-8"},Ve={key:0,class:"absolute inset-y-0 left-0 w-0.5 bg-blue-600"},Ne=["value"],De={class:"whitespace-nowrap py-4 pr-3 text-sm font-medium"},Fe={class:"whitespace-nowrap px-3 py-4 text-sm"},Me={class:"whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6 w-20"},Pe={key:1,class:"py-4 px-6"},He={__name:"List",props:["categories"],setup(S){const{t:a}=F({}),f=M(!1),i=S,l=C({selection:[],force:!1}),n=C({search:"",trashed:null}),x=P(()=>l.selection.length>0&&l.selection.length<i.categories.data.length);j(()=>{const d=window.location.search,s=new URLSearchParams(d);n.trashed=s.has("trashed")?s.get("trashed"):null});const T=(d,s=!1)=>{$.delete(p("categories.destroy"+(s?".permanently":""),d))},V=d=>{$.put(p("categories.restore",d))},v=()=>{f.value=!1},w=d=>{l.force=d||!1,f.value=!0},N=d=>{l.delete(p("categories.destroy.many"),{onSuccess:()=>{l.reset()},onFinish:()=>{f.value=!1}})},b=()=>{n.transform(d=>{let s={...d,remember:d.remember?"on":""};return Object.entries(s).reduce((o,[g,k])=>(k&&(o[g]=k),o),{})}).get(p("categories.index"),{preserveState:!0})},D=()=>{n.search="",n.trashed=null,b()};return(d,s)=>(m(),B(q,{title:t(a)("List Categories")},{default:c(()=>[e("div",Q,[e("div",X,[e("div",Z,[e("div",ee,[e("div",te,[e("div",null,[e("div",se,[_(r(t(a)("Categories"))+" ",1),e("span",oe,r({with:"("+t(a)("With Trashed")+")",only:"("+t(a)("Only Trashed")+")"}[t(n).trashed]),1)]),e("div",ae,r(t(a)("Please review the result below")),1)]),e("div",re,[u(I,{href:t(p)("categories.create")},{default:c(()=>[_(r(t(a)("Add New Category")),1)]),_:1},8,["href"]),e("form",{onSubmit:L(b,["prevent"])},[u(z,{onReset:s[2]||(s[2]=o=>D()),modelValue:t(n).search,"onUpdate:modelValue":s[3]||(s[3]=o=>t(n).search=o)},{default:c(()=>[e("label",le,r(t(a)("Trashed"))+":",1),u(Y,{modelValue:t(n).trashed,"onUpdate:modelValue":s[0]||(s[0]=o=>t(n).trashed=o),onChange:s[1]||(s[1]=o=>b()),class:"mt-1 w-full"},{default:c(()=>[e("option",de,r(t(a)("Not Trashed")),1),e("option",ie,r(t(a)("With Trashed")),1),e("option",ne,r(t(a)("Only Trashed")),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])],32)])]),e("div",ce,[i.categories&&i.categories.data&&i.categories.data.length?(m(),h("div",me,[e("div",ue,[e("div",he,[e("div",pe,[e("div",ge,[t(l).selection&&t(l).selection.length?(m(),h("div",_e,[e("button",{type:"button",onClick:s[4]||(s[4]=o=>w()),class:"inline-flex items-center rounded border text-white border-red-500 bg-red-500 px-2.5 py-1.5 text-xs font-medium shadow-sm hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-30"},r(t(a)("Move to Trash")),1),e("button",{type:"button",onClick:s[5]||(s[5]=o=>w(!0)),class:"inline-flex items-center rounded border text-white border-red-500 bg-red-500 px-2.5 py-1.5 text-xs font-medium shadow-sm hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-30"},r(t(a)("Delete Permanently")),1),u(H,{show:f.value,onClose:v,maxWidth:"sm"},{title:c(()=>[_(r(t(a)("Delete bulk records")),1)]),content:c(()=>[e("p",null,r(t(a)("Please confirm that you would like to delete the records?")),1),t(l).force?(m(),h("p",fe,r(t(a)("This action will delete the data permanently.")),1)):y("",!0)]),footer:c(()=>[u(K,{onClick:v},{default:c(()=>[_(r(t(a)("Cancel")),1)]),_:1}),u(J,{onClick:s[6]||(s[6]=o=>N())},{default:c(()=>[_(r(t(a)("Yes, delete")),1)]),_:1})]),_:1},8,["show"])])):y("",!0),e("table",be,[e("thead",ye,[e("tr",null,[e("th",xe,[e("input",{type:"checkbox",indeterminate:x.value,checked:x.value||t(l).selection.length===i.categories.data.length,onChange:s[7]||(s[7]=o=>t(l).selection=o.target.checked?i.categories.data.map(g=>g.id):[]),class:"absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 sm:left-6 dark:bg-gray-700 dark:border-gray-700"},null,40,ve)]),e("th",we,r(t(a)("Code")),1),e("th",ke,r(t(a)("Name")),1),e("th",Ce,[e("span",$e,r(t(a)("Actions")),1)])])]),e("tbody",Se,[(m(!0),h(R,null,U(i.categories.data,o=>(m(),h("tr",{key:o.id,class:O([t(l).selection.includes(o.id)&&"bg-gray-50 dark:bg-gray-800/50",o.deleted_at&&"bg-red-100 dark:bg-red-900"])},[e("td",Te,[t(l).selection.includes(o.id)?(m(),h("div",Ve)):y("",!0),W(e("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":s[8]||(s[8]=g=>t(l).selection=g),class:"absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 sm:left-6 dark:bg-gray-700 dark:border-gray-700"},null,8,Ne),[[A,t(l).selection]])]),e("td",De,r(o.code),1),e("td",Fe,r(o.name),1),e("td",Me,[u(G,{pm:"categories",property:"name",row:o,deleteFn:T,restoreFn:V,editStr:t(p)("categories.edit",o.id)},null,8,["row","editStr"])])],2))),128))])])])])]),u(E,{class:"m-4",meta:i.categories.meta,links:i.categories.links},null,8,["meta","links"])])])):(m(),h("div",Pe,r(t(a)("There is no data to display.")),1))])])])])])]),_:1},8,["title"]))}};export{He as default};
